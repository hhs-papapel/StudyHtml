<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/bootstrap.css">
    <link rel="stylesheet" href="/js/bootstrap.js">
    <script src="/lib/jquery-3.7.1.min.js"></script>
</head>
<body>
    <button type="button" onclick="getBtn()" class="btn btn-outline-primary">Primary</button>
    <button type="button" class="btn btn-outline-secondary">Secondary</button><br/>
    <button type="button" onclick="callB()" class="btn btn-outline-success">CallBack</button>
    <button type="button" class="btn btn-outline-danger">Danger</button>
    <button type="button" class="btn btn-outline-warning">Warning</button>
    <button type="button" class="btn btn-outline-info">Info</button>
    <script>


        function getBtn(){
            //비동기 통신
            $.ajax({
                type:'get',
                url: 'http://localhost:3000/get',
                success:function(rec){
                    console.log(res);
                }
            });
        }

        //두번째 버튼 실행
        document.querySelectorAll('button[type = "button"]')[1].addEventListener('click',function(){
            let obj = {name:'슈퍼맨'};
            $.ajax({
                url: 'http://localhost:3000/send1',
                type:'post',
                data: JSON.stringify(obj),
                contentType: 'application/json',
                success:function(rec){
                    console.log(res);
                }
            });
        });

        function callB(){
            //abc();
            function abc(){
                alert('abc');
            }

            let fn = () =>{
                alert('fn');
            }
            //fn();

            //callBack 함수
            callBa(function(){
                alert('a의 동작')
            }, 5);

            callBa(function(){
                alert('커스텀')
            }, 5);

            callBa(humanA,5);
        }

        function humanA(){
            alert('함수 호출');
        }

        //a랑 협력을 해야하는데 , a가 지각을 합니다.
        // b라는 사람이 만들기로 했고.
        function callBa(fn, number){

            //a의 역할
            fn();

            //b의 역할
            alert(number*number);
        }


        //callback
        //중복 된 코드를 최소화 시키는 것이 주 목적
        //특징은 매개변수에 함수가 들어간다.

        function callB(){
            cb(first);
            cb(second);
            // setTimeout(function(){

            // }, 1000);
        }

        function first(){
            alert('first');
        }

        let second = () =>{
            alert('second');
        }

        function cb(fn){
            console.log('실행 영역');
            fn();
        }

        //Promise
        
    </script>
</body>
</html>